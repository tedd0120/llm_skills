## 上下文
当前页面已具备搜索高亮、祖先展开、缩放拖动与 iOS 极简样式，但搜索反馈仍停留在“被动高亮”。本次改造聚焦“主动定位”与“多结果导航”。

## 目标 / 非目标
- 目标：
  - 用户输入姓名后自动聚焦命中节点。
  - 多个同名命中时可通过 `pre/next` 在命中项间循环切换。
  - 保持当前高亮与祖先展开行为。
  - 验证改为全量群组数据，确保在大数据规模下可用。
- 非目标：
  - 不改变树构建算法与节点数据结构。
  - 不新增后端接口或外部依赖。
  - 不扩展到复杂筛选（如部门过滤、多条件组合检索）。

## 决策
- 决策 1：引入“活动命中索引”
  - 搜索时构建姓名命中列表，并维护 `activeMatchIndex`。
  - 初次搜索默认定位到第一个命中项。
- 决策 2：匹配优先级
  - 先按姓名精确匹配（`name === keyword`）构建候选。
  - 若无精确命中，再回退为姓名包含匹配（`name.includes(keyword)`）。
- 决策 3：定位方式
  - 复用当前平移缩放参数，计算目标节点中心点并调整 `tx/ty`，让节点居中显示。
- 决策 4：导航按钮行为
  - `next`：索引 +1（循环）。
  - `pre`：索引 -1（循环）。
  - 切换时保留命中高亮并更新中心定位。

## 风险 / 权衡
- 风险：频繁输入时视图连续跳动
  - 缓解：仅在“姓名有命中”时才触发自动居中。
- 风险：同名较多时用户不清楚当前是第几个命中
  - 缓解：按钮切换按循环顺序执行，并在界面保留当前命中高亮状态。
- 风险：全量数据验证耗时增加
  - 缓解：作为发布前冒烟步骤执行一次即可。

## 验证策略
- 语法：`py_compile`。
- 行为：
  - 输入姓名后自动居中到命中节点。
  - 同名存在时 `pre/next` 可循环切换并重新居中。
  - 搜索高亮与祖先展开仍生效。
- 全量数据冒烟：使用 `.env` 的 `TEAMS_GROUP_CODES` 批量抓取产物验证 HTML 交互。
