## 上下文

已有成员数据以 JSON 列表形式存在于 `data/`，字段包含 `name`、`id`、`deptName`、`superior` 等。新能力目标是从该列表生成本地可查看的 HTML 组织架构树，且不与抓取逻辑耦合。

## 目标 / 非目标

- 目标：
  - 读取已有 JSON 文件生成组织架构树 HTML。
  - 以 `superior` 构建父子关系。
  - 支持前端内置搜索和高亮。
  - 页面展示抓取日期和总人数。
- 非目标：
  - 不新增在线服务或后端接口。
  - 不替代/修改抓取 API 逻辑。
  - 不引入复杂图形库或第三方前端框架。

## 决策

- 决策 1：采用“离线单文件 HTML”输出（内嵌 CSS/JS），降低运行依赖。
- 决策 2：树构建规则以 `superior -> name` 关联为主。
  - 当 `superior` 为空或未匹配到上级时，成员归为根层节点。
- 决策 3：搜索仅做“姓名 / 工号 / 部门”包含匹配，命中节点高亮，并自动展开其祖先路径。
- 决策 4：抓取日期来源采用双策略。
  - 优先使用 CLI 显式参数（如 `--fetched-date`）。
  - 未提供时回退为输入 JSON 文件的最后修改日期（本地时间）。

## 风险 / 权衡

- 同名人员可能导致 `superior` 到 `name` 关联歧义。为保持最小实现，先按名称匹配并在文档中声明限制。
- 大数据量节点会导致浏览器渲染和搜索变慢。本次仅提供轻量递归渲染与基础搜索，不做虚拟化优化。

## 迁移计划

1. 新增独立 Skill 目录与脚本，不改现有抓取脚本接口。
2. 先实现 JSON -> 树 -> HTML 的主流程，再补充搜索高亮和元信息展示。
3. 用已落盘 JSON 进行端到端验证。
