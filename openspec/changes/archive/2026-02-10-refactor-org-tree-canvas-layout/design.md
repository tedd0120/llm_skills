## 上下文

当前页面通过 `details/summary` 呈现层级关系，交互接近文档树，不适合大规模组织结构导航。用户需要“决策树式画布”交互，核心是平移缩放与更清晰的层级连线。

## 目标 / 非目标

- 目标：
  - 根节点横向排布且首屏仅展示根节点。
  - 点击节点展开直属下级，节点之间有连线。
  - 画布支持缩放和拖动。
  - 保留搜索/高亮与头部元信息。
- 非目标：
  - 不引入第三方前端库（如 d3、cytoscape）。
  - 不改输入 JSON 结构。
  - 不引入后端服务。

## 决策

- 决策 1：采用 SVG 渲染节点和连线，前端原生 JS 管理状态。
- 决策 2：布局采用层级树布局。
  - 根节点初始排一行。
  - 展开后按层级向下计算节点位置。
- 决策 3：交互状态使用 `expanded` 集合。
  - 默认为空（仅根节点可见）。
  - 点击节点切换展开/收起其直属下级。
- 决策 4：搜索保留。
  - 搜索命中时高亮节点并自动展开其祖先路径。
- 决策 5：缩放拖动采用 `transform(translate, scale)` 应用于画布 `g`。

## 风险 / 权衡

- 数据量较大时重排会有性能成本；先采用“状态变化后全量重绘”的最小实现。
- 节点文字过长会影响排版；采用固定节点宽度和文本截断策略降低复杂度。
