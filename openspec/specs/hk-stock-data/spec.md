# hk-stock-data 规范

## 目的
定义港股历史与实时行情能力的统一规范，明确主备数据源与调用行为，保证在数据源波动场景下仍能输出可用且一致的市场数据。
## 需求
### 需求：港股历史数据抓取
系统必须提供港股历史数据抓取能力，优先使用 akshare 库的 `stock_hk_hist()` 函数，备选使用 yfinance。

#### 场景：使用akshare抓取港股数据
- **当** 用户指定港股代码（如 `00700`）、周期和日期范围
- **那么** 系统调用 akshare 的 `stock_hk_hist()` 抓取数据，返回 OHLCV 格式的 DataFrame

#### 场景：使用yfinance抓取港股数据（备选）
- **当** akshare 接口不可用或用户指定使用 yfinance
- **那么** 系统使用 yfinance 的 `.HK` 后缀格式（如 `0700.HK`）抓取数据

### 需求：港股实时行情获取
系统必须提供港股实时行情获取能力。

#### 场景：获取港股实时行情
- **当** 用户请求港股实时行情
- **那么** 系统调用 akshare 的 `stock_hk_spot_em()` 返回港股实时行情快照
